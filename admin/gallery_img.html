<!-- <html lang="en">
<head>
    <title>Change image on select new image from file input</title>
    <script src="../js/jquery.js"></script>
</head>
<body>


<input type="file" name="file" id="profile-img">
<img src="" id="profile-img-tag" width="350px" />


<script type="text/javascript">
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            
            reader.onload = function (e) {
                $('#profile-img-tag').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $("#profile-img").change(function(){
        readURL(this);
    });
</script>


</body>
</html> -->

<script src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/jquery.form.js"></script>
<script>
    $(document).ready(function () {
        $('#uploadForm').ajaxForm({
            target: '#imagesPreview',
            beforeSubmit: function () {
                $('#uploadStatus').html('<img src="uploading.gif"/>');
            },
            success: function () {
                $('#images').val('');
                $('#uploadStatus').html('');
            },
            error: function () {
                $('#uploadStatus').html('Images upload failed, please try again.');
            }
        });
    });
</script>

<!-- images upload form -->
<form method="post" id="uploadForm" enctype="multipart/form-data" action="upload.php">
    <label>Choose Images</label>
    <input type="file" name="images[]" id="images" multiple >
    <input type="submit" name="submit" value="UPLOAD"/>
</form>

<!-- display upload status -->
<div id="uploadStatus"></div>

<!-- gallery view of uploaded images --> 
<div class="gallery" id="imagesPreview"></div>